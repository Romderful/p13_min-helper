(function(e){function t(t){for(var n,s,o=t[0],i=t[1],u=t[2],b=0,d=[];b<o.length;b++)s=o[b],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},c=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=i;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0de6":function(e,t,a){"use strict";a("9b64")},"13f6":function(e,t,a){},1444:function(e,t,a){},1481:function(e,t,a){"use strict";a("4253")},2278:function(e,t,a){},"31bb":function(e,t,a){"use strict";a("5e49")},4253:function(e,t,a){},"472e":function(e,t,a){"use strict";a("891b")},"4b2a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function r(e,t,a,r,c,s){var o=Object(n["x"])("Navbar"),i=Object(n["x"])("router-view"),u=Object(n["x"])("Footer");return Object(n["s"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(o),Object(n["j"])(i),Object(n["j"])(u)],64)}var c={class:"container fixed-top",style:{"max-width":"150%",padding:"0"}},s={class:"main-navbar navbar-expand-lg navbar-light bg-light border-bottom"},o=Object(n["h"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"true","aria-label":"Toggle navigation"},[Object(n["h"])("span",{class:"navbar-toggler-icon"})],-1),i={class:"collapse navbar-collapse container",id:"navbarSupportedContent"},u={class:"nav me-auto"},l={class:"nav-item col-12 col-lg-auto"},b=Object(n["i"])("Home"),d={class:"nav-item col-12 col-lg-auto"},m=Object(n["i"])("Browse"),p=Object(n["i"])("Browse"),j={key:0,class:"nav auth"},O={class:"nav-item col-12 col-lg-auto"},h=Object(n["i"])("Login"),g={class:"nav-item col-12 col-lg-auto"},f=Object(n["i"])("Sign up"),v={key:1,class:"nav auth"},w={class:"nav-item col-12 col-lg-auto"},y={class:"nav-item col-12 col-lg-auto"},k={key:2},x={class:"py-3 mb-5 bg-white border-bottom"},_={class:"container d-flex flex-wrap justify-content-center",style:{padding:"0"}},D=Object(n["h"])("h1",null,"Min-helper",-1);function A(e,t,a,r,A,S){var $=Object(n["x"])("router-link"),R=Object(n["x"])("SearchBar");return Object(n["s"])(),Object(n["g"])("div",c,[Object(n["h"])("nav",s,[o,Object(n["h"])("div",i,[Object(n["h"])("ul",u,[Object(n["h"])("li",l,[Object(n["j"])($,{to:{name:"Home"},class:"nav-link link-dark px-2 active"},{default:Object(n["E"])((function(){return[b]})),_:1})]),Object(n["h"])("li",d,[e.getUser?(Object(n["s"])(),Object(n["e"])($,{key:0,to:{name:"AnimeList",query:{page:1}},onClick:S.clearUserInputAndReload,class:"nav-link link-dark px-2"},{default:Object(n["E"])((function(){return[m]})),_:1},8,["onClick"])):(Object(n["s"])(),Object(n["e"])($,{key:1,to:{name:"Login"},class:"nav-link link-dark px-2"},{default:Object(n["E"])((function(){return[p]})),_:1}))])]),e.getUser?Object(n["f"])("",!0):(Object(n["s"])(),Object(n["g"])("ul",j,[Object(n["h"])("li",O,[Object(n["j"])($,{to:{name:"Login"},class:"nav-link link-dark px-2"},{default:Object(n["E"])((function(){return[h]})),_:1})]),Object(n["h"])("li",g,[Object(n["j"])($,{to:{name:"Signup"},class:"nav-link link-dark px-2"},{default:Object(n["E"])((function(){return[f]})),_:1})])])),e.getUser?(Object(n["s"])(),Object(n["g"])("ul",v,[Object(n["h"])("li",w,[Object(n["j"])($,{to:{name:"Favourites"},class:"nav-link link-dark px-2"},{default:Object(n["E"])((function(){return[Object(n["i"])(Object(n["z"])(e.getUser.username),1)]})),_:1})]),Object(n["h"])("li",y,[Object(n["h"])("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=function(){return S.handleLogout&&S.handleLogout.apply(S,arguments)}),class:"nav-link link-dark px-2"},"Logout")])])):Object(n["f"])("",!0),e.getUser?(Object(n["s"])(),Object(n["g"])("div",k,[Object(n["j"])(R)])):Object(n["f"])("",!0)])]),Object(n["h"])("header",x,[Object(n["h"])("div",_,[Object(n["j"])($,{to:{name:"Home"},class:"d-flex align-items-center mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none"},{default:Object(n["E"])((function(){return[D]})),_:1})])])])}var S=a("5530"),$=a("1da1"),R=(a("96cf"),a("bc3a")),U=a.n(R);function P(e,t,a,r,c,s){return Object(n["s"])(),Object(n["g"])("form",{onSubmit:t[1]||(t[1]=Object(n["G"])((function(){return s.getUserSearch&&s.getUserSearch.apply(s,arguments)}),["prevent"])),class:"col-12 col-lg-auto mb-3 mb-lg-0"},[Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.userInput=e}),type:"search",class:"form-control",placeholder:"Search...","aria-label":"Search"},null,512),[[n["C"],c.userInput]])],32)}a("b0c0");var C=a("5502"),q={name:"SearchBar",data:function(){return{userInput:""}},methods:{getUserSearch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.dispatch("updateUserInput",e.userInput),e.$router.push({name:"AnimeList",query:{name:e.getUserInput,score:"any",page:1}}),"AnimeList"==e.$route.name){t.next=7;break}return t.next=5,U.a.get("api-v1/animes/?search=".concat(e.getUserInput));case 5:a=t.sent,e.$store.dispatch("updateAnimesData",a.data);case 7:e.userInput="";case 8:case"end":return t.stop()}}),t)})))()}},computed:Object(S["a"])({},Object(C["b"])(["getUserInput"]))},I=a("6b0d"),z=a.n(I);const F=z()(q,[["render",P]]);var L=F,T={name:"Navbar",components:{SearchBar:L},data:function(){return{counter:0}},methods:{handleLogout:function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),this.$store.dispatch("updateUser",null),this.$router.push("/")},clearUserInputAndReload:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.counter++,e.$store.dispatch("updateUserInput",e.counter),t.next=4,U.a.get("api-v1/animes/");case 4:a=t.sent,e.$store.dispatch("updateAnimesData",a.data);case 6:case"end":return t.stop()}}),t)})))()}},computed:Object(S["a"])({},Object(C["b"])(["getUser"])),created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.get("api-v1/auth/user/");case 3:a=t.sent,200==a.status&&e.$store.dispatch("updateUser",a.data),t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}};a("472e");const E=z()(T,[["render",A]]);var G=E,N={class:"footer"},B={class:"container"},M=Object(n["i"])("About");function V(e,t){var a=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["g"])("footer",N,[Object(n["h"])("div",B,[Object(n["j"])(a,{to:{name:"About"},class:"nav-link link-dark px-2"},{default:Object(n["E"])((function(){return[M]})),_:1})])])}a("907d");const H={},J=z()(H,[["render",V]]);var Y=J,W={name:"App",components:{Navbar:G,Footer:Y}};a("9050");const K=z()(W,[["render",r]]);var Q=K,X=a("6c02"),Z={class:"container home"},ee=Object(n["h"])("h1",null,"Home",-1),te=[ee];function ae(e,t){return Object(n["s"])(),Object(n["g"])("div",Z,te)}a("9265");const ne={},re=z()(ne,[["render",ae]]);var ce=re,se={class:"container about"},oe=Object(n["h"])("h1",null,"This is an about page",-1),ie=[oe];function ue(e,t){return Object(n["s"])(),Object(n["g"])("div",se,ie)}a("6d01");const le={},be=z()(le,[["render",ue]]);var de=be,me={class:"form-signin"},pe=Object(n["h"])("h1",{class:"h3 mb-3 fw-normal"},"Please sign in",-1),je={key:0,class:"alert alert-danger mt-3",role:"alert"},Oe={class:"form-floating"},he=Object(n["h"])("label",{for:"floatingInput"},"Email address",-1),ge={key:1,class:"alert alert-danger mt-3",role:"alert"},fe={class:"form-floating"},ve=Object(n["h"])("label",{for:"floatingPassword"},"Password",-1),we=Object(n["h"])("div",{class:"checkbox mb-3"},[Object(n["h"])("label",null,[Object(n["h"])("input",{type:"checkbox",value:"remember-me"}),Object(n["i"])(" Remember me ")])],-1),ye=Object(n["h"])("button",{class:"w-100 btn btn-lg btn-primary",type:"submit"}," Sign in ",-1),ke=Object(n["h"])("p",{class:"mt-5 mb-3 text-muted"},"© 2022",-1);function xe(e,t,a,r,c,s){return Object(n["s"])(),Object(n["g"])("main",me,[Object(n["h"])("form",{onSubmit:t[2]||(t[2]=Object(n["G"])((function(){return s.handleSubmit&&s.handleSubmit.apply(s,arguments)}),["prevent"]))},[pe,c.errors.non_field_errors?(Object(n["s"])(),Object(n["g"])("div",je,[Object(n["h"])("p",null,Object(n["z"])(c.errors.non_field_errors[0]),1)])):Object(n["f"])("",!0),Object(n["h"])("div",Oe,[Object(n["F"])(Object(n["h"])("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.email=e})},null,512),[[n["C"],c.email]]),he]),c.errors.password?(Object(n["s"])(),Object(n["g"])("div",ge,[Object(n["h"])("p",null,Object(n["z"])(c.errors.password[0]),1)])):Object(n["f"])("",!0),Object(n["h"])("div",fe,[Object(n["F"])(Object(n["h"])("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e})},null,512),[[n["C"],c.password]]),ve]),we,ye,ke],32)])}var _e={name:"Login",data:function(){return{email:"",password:"",errors:""}},methods:{handleSubmit:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.post("api-v1/auth/login/",{email:e.email,password:e.password});case 3:a=t.sent,200==a.status&&(localStorage.setItem("access_token",a.data.access_token),localStorage.setItem("refresh_token",a.data.refresh_token),e.$store.dispatch("updateUser",a.data.user),e.$router.push("/")),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.errors=t.t0.response.data;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}};a("ac63");const De=z()(_e,[["render",xe]]);var Ae=De,Se={class:"form-signup"},$e=Object(n["h"])("h1",{class:"h3 mb-3 fw-normal"},"Please sign up",-1),Re={key:0,class:"alert alert-danger",role:"alert"},Ue={class:"form-floating"},Pe=Object(n["h"])("label",{for:"floatingInput"},"Username",-1),Ce={key:1,class:"alert alert-danger mt-3",role:"alert"},qe={class:"form-floating"},Ie=Object(n["h"])("label",{for:"floatingInput"},"Email address",-1),ze={key:2,class:"alert alert-danger mt-3",role:"alert"},Fe={key:3,class:"alert alert-danger mt-3",role:"alert"},Le={class:"form-floating"},Te=Object(n["h"])("label",{for:"floatingPassword"},"Password",-1),Ee={key:4,class:"alert alert-danger mt-3",role:"alert"},Ge={class:"form-floating"},Ne=Object(n["h"])("label",{for:"floatingPassword"},"Password confirmation",-1),Be=Object(n["h"])("button",{class:"w-100 btn btn-lg btn-primary",type:"submit"}," Sign up ",-1),Me=Object(n["h"])("p",{class:"mt-5 mb-3 text-muted"},"© 2022",-1),Ve={key:1,class:"alert alert-success",role:"alert"},He=Object(n["i"])(" You have been registered ! "),Je=Object(n["h"])("br",null,null,-1),Ye=Object(n["i"])(" You can now go to the "),We=Object(n["i"])("login page");function Ke(e,t,a,r,c,s){var o=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["g"])("main",Se,[0==c.successRegister?(Object(n["s"])(),Object(n["g"])("form",{key:0,onSubmit:t[4]||(t[4]=Object(n["G"])((function(){return s.handleSubmit&&s.handleSubmit.apply(s,arguments)}),["prevent"]))},[$e,c.errors.username?(Object(n["s"])(),Object(n["g"])("div",Re,[Object(n["h"])("p",null,Object(n["z"])(c.errors.username[0]),1)])):Object(n["f"])("",!0),Object(n["h"])("div",Ue,[Object(n["F"])(Object(n["h"])("input",{type:"text",class:"form-control",placeholder:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.username=e})},null,512),[[n["C"],c.username]]),Pe]),c.errors.email?(Object(n["s"])(),Object(n["g"])("div",Ce,[Object(n["h"])("p",null,Object(n["z"])(c.errors.email[0]),1)])):Object(n["f"])("",!0),Object(n["h"])("div",qe,[Object(n["F"])(Object(n["h"])("input",{type:"email",class:"form-control",placeholder:"name@example.com","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e})},null,512),[[n["C"],c.email]]),Ie]),c.errors.non_field_errors?(Object(n["s"])(),Object(n["g"])("div",ze,[Object(n["h"])("p",null,Object(n["z"])(c.errors.non_field_errors[0]),1)])):Object(n["f"])("",!0),c.errors.password1?(Object(n["s"])(),Object(n["g"])("div",Fe,[Object(n["h"])("p",null,Object(n["z"])(c.errors.password1[0]),1)])):Object(n["f"])("",!0),Object(n["h"])("div",Le,[Object(n["F"])(Object(n["h"])("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password1=e})},null,512),[[n["C"],c.password1]]),Te]),c.errors.password2?(Object(n["s"])(),Object(n["g"])("div",Ee,[Object(n["h"])("p",null,Object(n["z"])(c.errors.password2[0]),1)])):Object(n["f"])("",!0),Object(n["h"])("div",Ge,[Object(n["F"])(Object(n["h"])("input",{type:"password",class:"form-control",id:"floatingPassword1",placeholder:"Password confirmation","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password2=e})},null,512),[[n["C"],c.password2]]),Ne]),Be,Me],32)):(Object(n["s"])(),Object(n["g"])("div",Ve,[He,Je,Object(n["h"])("p",null,[Ye,Object(n["j"])(o,{to:"log-in"},{default:Object(n["E"])((function(){return[We]})),_:1})])]))])}var Qe={name:"Signup",data:function(){return{username:"",email:"",password1:"",password2:"",successRegister:!1,errors:""}},methods:{handleSubmit:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.post("api-v1/auth/registration/",{username:e.username,email:e.email,password1:e.password1,password2:e.password2});case 3:a=t.sent,201==a.status&&(e.successRegister=!0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.errors=t.t0.response.data;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}};a("1481");const Xe=z()(Qe,[["render",Ke]]);var Ze=Xe,et={class:"container mb-5"},tt={class:"container row",style:{"max-width":"600px",margin:"auto"}},at={class:"container col-lg-6 col-12 mb-3"},nt=Object(n["h"])("label",{class:"form-label"},[Object(n["h"])("b",null,"Genres")],-1),rt={id:"datalistOptions"},ct={class:"container col-lg-6 col-12"},st=Object(n["h"])("label",{class:"form-label"},[Object(n["h"])("b",null,"Scoring")],-1),ot=Object(n["h"])("option",{value:"any"},"any",-1),it=Object(n["h"])("option",{value:"-score"},"best",-1),ut=Object(n["h"])("option",{value:"score"},"lowest",-1),lt=[ot,it,ut],bt={class:"container animes-wrapper"},dt={class:"row mb-3"},mt={class:"anime-card card border-0"},pt={class:"image-wrapper card"},jt=["src"],Ot=["onClick","fill"],ht=Object(n["h"])("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"},null,-1),gt=[ht],ft={class:"anime-name"};function vt(e,t,a,r,c,s){var o=Object(n["x"])("router-link"),i=Object(n["x"])("Pagination");return Object(n["s"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",et,[Object(n["h"])("div",tt,[Object(n["h"])("div",at,[nt,Object(n["F"])(Object(n["h"])("input",{class:"form-control shadow mb-5 bg-white rounded",list:"datalistOptions",placeholder:"any","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.selectedGenre=e}),onChange:t[1]||(t[1]=function(e){return s.goToGenre(c.selectedGenre)})},null,544),[[n["C"],c.selectedGenre]]),Object(n["h"])("datalist",rt,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(c.categoriesData.results,(function(e){return Object(n["s"])(),Object(n["g"])("option",{key:e.id},Object(n["z"])(e.name),1)})),128))])]),Object(n["h"])("div",ct,[st,Object(n["F"])(Object(n["h"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.selectedScore=e}),onChange:t[3]||(t[3]=function(e){return s.goToScore(c.selectedScore)}),class:"form-select shadow mb-5 bg-white rounded"},lt,544),[[n["B"],c.selectedScore]])])])]),Object(n["h"])("div",bt,[Object(n["h"])("div",dt,[Object(n["j"])(n["b"],{name:"fade",appear:""},{default:Object(n["E"])((function(){return[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(e.getAnimesData.results,(function(e){return Object(n["s"])(),Object(n["g"])("div",{class:"container mb-3 col-6 col-lg-2",key:e.id},[Object(n["h"])("div",mt,[Object(n["h"])("div",pt,[Object(n["j"])(o,{class:"router-link",to:{name:"AnimeDetail",params:{id:e.id},query:{page:1}}},{default:Object(n["E"])((function(){return[Object(n["h"])("img",{class:"anime-cover-image",src:e.cover_image},null,8,jt)]})),_:2},1032,["to"]),(Object(n["s"])(),Object(n["g"])("svg",{onClick:function(t){return s.addToFavourites(e.id)},xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:e.is_favourite?"red":"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},gt,8,Ot))]),Object(n["j"])(o,{class:"router-link",to:{name:"AnimeDetail",params:{id:e.id},query:{page:1}}},{default:Object(n["E"])((function(){return[Object(n["h"])("p",ft,[Object(n["h"])("strong",null,Object(n["z"])(e.english_name),1)])]})),_:2},1032,["to"])])])})),128))]})),_:1})]),Object(n["j"])(i,{data:e.getAnimesData},null,8,["data"])])],64)}var wt={key:0,class:"container"},yt={key:2,class:"container mt-3"};function kt(e,t,a,r,c,s){return a.data.links?(Object(n["s"])(),Object(n["g"])("div",wt,[a.data.links.previous?(Object(n["s"])(),Object(n["g"])("button",{key:0,class:"btn btn-primary me-2",onClick:t[0]||(t[0]=function(){return s.getPreviousPage&&s.getPreviousPage.apply(s,arguments)})}," Previous ")):Object(n["f"])("",!0),a.data.links.next?(Object(n["s"])(),Object(n["g"])("button",{key:1,class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return s.getNextPage&&s.getNextPage.apply(s,arguments)})}," Next ")):Object(n["f"])("",!0),0==!a.data.count?(Object(n["s"])(),Object(n["g"])("div",yt,[Object(n["h"])("i",null,"page "+Object(n["z"])(a.data.current_page_number)+" out of "+Object(n["z"])(a.data.total_pages),1)])):Object(n["f"])("",!0)])):Object(n["f"])("",!0)}var xt={name:"Pagination",props:["data"],data:function(){return{page:1}},methods:{getNextPage:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.page=e.$route.query.page,e.page++,a=Object(S["a"])(Object(S["a"])({},e.$route.query),{},{page:e.page}),e.$router.push({query:a});case 4:case"end":return t.stop()}}),t)})))()},getPreviousPage:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.page=e.$route.query.page,e.page--,a=Object(S["a"])(Object(S["a"])({},e.$route.query),{},{page:e.page}),e.$router.push({query:a});case 4:case"end":return t.stop()}}),t)})))()}}};const _t=z()(xt,[["render",kt]]);var Dt=_t,At={name:"AnimeList",components:{Pagination:Dt},watch:{$route:function(){"AnimeList"===this.$route.name&&this.setAnimesData()}},data:function(){return{errorMessage:"No data could be found",categoriesData:[],selectedGenre:"",selectedScore:"any",page:1}},methods:{getCategories:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("api-v1/animes-categories/");case 2:a=t.sent,e.categoriesData=a.data;case 4:case"end":return t.stop()}}),t)})))()},goToGenre:function(e){this.$route.query.page=1,this.selectedScore="any",this.selectedScore?this.$router.push({query:{genre:e,score:this.selectedScore,page:this.$route.query.page}}):this.$router.push({query:{genre:e,page:this.$route.query.page}})},goToScore:function(e){this.$route.query.page=1,this.selectedGenre?this.$router.push({query:{genre:this.selectedGenre,score:e,page:this.$route.query.page}}):isNaN(this.getUserInput)?this.$router.push({query:{name:this.getUserInput,score:e,page:this.$route.query.page}}):this.$router.push({query:{score:e,page:this.$route.query.page}})},setAnimesData:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("updateAnimesData",[]),a="?",e.$route.query.genre?(a+="categories=".concat(e.$route.query.genre),e.selectedGenre=e.$route.query.genre):e.selectedGenre="",e.$route.query.score&&(a+="&ordering=".concat(e.$route.query.score),e.selectedScore=e.$route.query.score),e.$route.query.name&&(a+="&search=".concat(e.$route.query.name),e.selectedGenre=""),a+="&page=".concat(e.$route.query.page),t.next=8,U.a.get("api-v1/animes/".concat(a));case 8:n=t.sent,e.$store.dispatch("updateAnimesData",n.data),window.scrollTo({top:0,behavior:"smooth"});case 11:case"end":return t.stop()}}),t)})))()},addToFavourites:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,U.a.get("api-v1/animes/".concat(e,"/"));case 2:n=a.sent,!1===n.data.is_favourite?(U.a.post("api-v1/animes-favourites/",{user:t.getUser.username,anime:e}),n.data.is_favourite=!0):(U.a.delete("api-v1/animes-favourites/".concat(n.data.favourite_id,"/")),n.data.is_favourite=!1),t.$store.dispatch("updateAnimeData",n.data);case 5:case"end":return a.stop()}}),a)})))()}},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(C["b"])(["getUser"])),Object(C["b"])(["getAnimesData"])),Object(C["b"])(["getUserInput"])),created:function(){this.getCategories(),this.setAnimesData()}};a("31bb");const St=z()(At,[["render",vt]]);var $t=St,Rt=(a("a4d3"),a("e01a"),{class:"container mb-5",style:{"text-align":"left",padding:"0"}}),Ut={class:"card border-0 container mb-5"},Pt=["src"],Ct={key:0},qt={key:1},It={class:"conatainer mt-3"},zt={class:"container mb-5"},Ft=Object(n["i"])(" Description of : "),Lt=["innerHTML"],Tt={key:1,class:"container"},Et=Object(n["h"])("p",null,"We're sorry, the description isn't available yet.",-1),Gt=[Et],Nt=Object(n["h"])("div",{class:"container mb-5"},[Object(n["h"])("hr")],-1),Bt={key:0,class:"container mb-5"},Mt={class:"card shadow p-3 mb-5 bg-white rounded"},Vt=Object(n["h"])("div",{class:"card-header shadow p-3 mb-5 bg-white rounded"},[Object(n["h"])("p",{style:{"text-align":"left"}},[Object(n["h"])("b",null,"Comments")])],-1),Ht={key:0,class:"card-body"},Jt={class:"card-header"},Yt={style:{"text-align":"left",margin:"0"}},Wt={class:"card-body"},Kt={class:"card-text",style:{"text-align":"left"}},Qt={key:1},Xt=Object(n["h"])("i",null,"No comments yet",-1),Zt=[Xt],ea={class:"container mb-5 mt-5"},ta=Object(n["h"])("label",{class:"form-label"},[Object(n["h"])("b",null,"Add a comment")],-1),aa=Object(n["h"])("button",{class:"w-30 btn btn-primary mt-5",type:"submit"}," post your comment ! ",-1),na=Object(n["h"])("div",{class:"container mt-5"},[Object(n["h"])("hr")],-1),ra={class:"container animes-wrapper"},ca={class:"mt-5 mb-5",style:{"text-align":"left"}},sa={class:"row mb-3"},oa={class:"anime-card card border-0"},ia=["src"],ua={class:"anime-name"};function la(e,t,a,r,c,s){var o=Object(n["x"])("Pagination"),i=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",Rt,[Object(n["h"])("div",Ut,[Object(n["h"])("img",{class:"anime-cover-image",src:c.animeData.cover_image},null,8,Pt),this.animeData.is_favourite?(Object(n["s"])(),Object(n["g"])("div",qt,[Object(n["h"])("button",{onClick:t[1]||(t[1]=function(){return s.addToFavourites&&s.addToFavourites.apply(s,arguments)}),class:"btn btn-sm btn-primary mt-3",style:{width:"12rem"},type:"submit"}," Remove from favourites ")])):(Object(n["s"])(),Object(n["g"])("div",Ct,[Object(n["h"])("button",{onClick:t[0]||(t[0]=function(){return s.addToFavourites&&s.addToFavourites.apply(s,arguments)}),class:"btn btn-sm btn-primary mt-3",style:{width:"12rem"},type:"submit"}," Add to favourites ")])),Object(n["h"])("div",It,[Object(n["h"])("i",null,"This anime has been added to favourites "+Object(n["z"])(this.animeData.added_to_favourites)+" time(s)",1)])]),Object(n["h"])("div",zt,[Object(n["h"])("h2",null,[Ft,Object(n["h"])("u",null,Object(n["z"])(c.animeData.english_name),1)])]),c.animeData.description?(Object(n["s"])(),Object(n["g"])("div",{key:0,innerHTML:c.animeData.description,class:"container"},null,8,Lt)):(Object(n["s"])(),Object(n["g"])("div",Tt,Gt))]),Nt,c.commentData.results?(Object(n["s"])(),Object(n["g"])("div",Bt,[Object(n["h"])("div",Mt,[Vt,0==!c.commentData.count?(Object(n["s"])(),Object(n["g"])("div",Ht,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(c.commentData.results,(function(e){return Object(n["s"])(),Object(n["g"])("div",{key:e.id,class:"card mb-3 shadow-sm bg-white rounded"},[Object(n["h"])("div",Jt,[Object(n["h"])("p",Yt,[Object(n["h"])("b",null,Object(n["z"])(e.author)+" - "+Object(n["z"])(e.created_date),1)])]),Object(n["h"])("div",Wt,[Object(n["h"])("p",Kt,Object(n["z"])(e.content),1)])])})),128))])):(Object(n["s"])(),Object(n["g"])("div",Qt,Zt)),Object(n["h"])("form",{onSubmit:t[3]||(t[3]=Object(n["G"])((function(){return s.postComment&&s.postComment.apply(s,arguments)}),["prevent"]))},[Object(n["h"])("div",ea,[Object(n["h"])("div",null,[ta,Object(n["F"])(Object(n["h"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.comment=e}),class:"form-control",rows:"4"},null,512),[[n["C"],c.comment]]),aa])])],32)])])):Object(n["f"])("",!0),Object(n["j"])(o,{data:c.commentData},null,8,["data"]),na,Object(n["h"])("div",ra,[Object(n["h"])("div",ca,[Object(n["h"])("h2",null,Object(n["z"])(s.getSubstitutesNumber())+" Animes that you could like",1)]),Object(n["h"])("div",sa,[Object(n["j"])(n["b"],{name:"fade",appear:""},{default:Object(n["E"])((function(){return[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(c.linkedAnimesData,(function(e){return Object(n["s"])(),Object(n["g"])("div",{class:"container mb-3 col-6 col-lg-2",key:e.id},[Object(n["j"])(i,{class:"router-link",to:{name:"AnimeDetail",params:{id:e.id},query:{page:1}}},{default:Object(n["E"])((function(){return[Object(n["h"])("div",oa,[Object(n["h"])("img",{class:"anime-cover-image",src:e.cover_image},null,8,ia),Object(n["h"])("p",ua,[Object(n["h"])("strong",null,Object(n["z"])(e.english_name),1)])])]})),_:2},1032,["to"])])})),128))]})),_:1})])])],64)}a("07ac"),a("99af");var ba={name:"AnimeDetail",props:["id"],components:{Pagination:Dt},watch:{$route:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a,n,r,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("AnimeDetail"===e.$route.name){t.next=2;break}return t.abrupt("return");case 2:return e.linkedAnimesData=[],e.getComment(),t.next=6,U.a.get("api-v1/animes/".concat(e.$route.params.id,"/"));case 6:for(a=t.sent,e.animeData=a.data,n=Object.values(e.animeData.linked_animes),r=0,c=n;r<c.length;r++)s=c[r],e.getLinkedAnimes(s);window.scrollTo({top:0,behavior:"smooth"});case 11:case"end":return t.stop()}}),t)})))()}},data:function(){return{animeData:"",linkedAnimesData:[],comment:"",commentData:[]}},methods:{addToFavourites:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setAnimeData();case 2:!1===e.animeData.is_favourite?(U.a.post("api-v1/animes-favourites/",{user:e.getUser.username,anime:e.id}),e.animeData.is_favourite=!0,e.animeData.added_to_favourites++):(U.a.delete("api-v1/animes-favourites/".concat(e.animeData.favourite_id,"/")),e.animeData.is_favourite=!1,e.animeData.added_to_favourites--);case 3:case"end":return t.stop()}}),t)})))()},getLinkedAnimes:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,U.a.get("api-v1/animes/".concat(e,"/"));case 2:n=a.sent,t.linkedAnimesData.push(n.data);case 4:case"end":return a.stop()}}),a)})))()},getSubstitutesNumber:function(){return this.linkedAnimesData.length},postComment:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.a.post("api-v1/animes-comments/",{author:e.getUser.username,anime:e.id,content:e.comment});case 2:return e.comment="",t.next=5,e.getComment();case 5:case"end":return t.stop()}}),t)})))()},getComment:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("api-v1/animes-comments/?anime=".concat(e.$route.params.id,"&page=").concat(e.$route.query.page));case 2:a=t.sent,e.commentData=a.data;case 4:case"end":return t.stop()}}),t)})))()},setAnimeData:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("api-v1/animes/".concat(e.id,"/"));case 2:a=t.sent,e.animeData=a.data;case 4:case"end":return t.stop()}}),t)})))()}},computed:Object(S["a"])({},Object(C["b"])(["getUser"])),created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a,n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setAnimeData();case 2:for(a=Object.values(e.animeData.linked_animes),n=0,r=a;n<r.length;n++)c=r[n],e.getLinkedAnimes(c);e.getComment(),window.scrollTo(0,0);case 6:case"end":return t.stop()}}),t)})))()}};const da=z()(ba,[["render",la]]);var ma=da,pa={class:"container favourites"},ja={class:"row"},Oa={key:0,class:"anime-card card border-0"},ha={key:0},ga={class:"image-wrapper card"},fa=["src"],va=["onClick"],wa=Object(n["h"])("path",{d:"M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z"},null,-1),ya=[wa],ka={class:"anime-name"};function xa(e,t,a,r,c,s){var o=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["g"])("div",pa,[Object(n["h"])("div",ja,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(e.getAnimesData.results,(function(e){return Object(n["s"])(),Object(n["g"])("div",{class:"mb-3 col-6 col-lg-2",key:e.id},[e.anime_details?(Object(n["s"])(),Object(n["g"])("div",Oa,[e.anime_details.is_favourite?(Object(n["s"])(),Object(n["g"])("div",ha,[Object(n["h"])("div",ga,[Object(n["j"])(o,{class:"router-link",to:{name:"AnimeDetail",params:{id:e.anime_details.id},query:{page:1}}},{default:Object(n["E"])((function(){return[Object(n["h"])("img",{class:"anime-cover-image",src:e.anime_details.cover_image},null,8,fa)]})),_:2},1032,["to"]),(Object(n["s"])(),Object(n["g"])("svg",{onClick:function(t){return s.deleteFavourite(e.id)},xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-trash2-fill",viewBox:"0 0 16 16"},ya,8,va))]),Object(n["j"])(o,{class:"router-link",to:{name:"AnimeDetail",params:{id:e.anime_details.id},query:{page:1}}},{default:Object(n["E"])((function(){return[Object(n["h"])("p",ka,[Object(n["h"])("strong",null,Object(n["z"])(e.anime_details.english_name),1)])]})),_:2},1032,["to"])])):Object(n["f"])("",!0)])):Object(n["f"])("",!0)])})),128))])])}var _a={name:"Favourites",computed:Object(S["a"])({},Object(C["b"])(["getAnimesData"])),methods:{deleteFavourite:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Do you really want to delete this favourite ?")){a.next=4;break}return a.next=3,U.a.delete("api-v1/animes-favourites/".concat(e,"/"));case 3:t.setAnimesData();case 4:case"end":return a.stop()}}),a)})))()},setAnimesData:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("api-v1/animes-favourites/");case 2:a=t.sent,e.$store.dispatch("updateAnimesData",a.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.setAnimesData()}};a("0de6");const Da=z()(_a,[["render",xa]]);var Aa=Da,Sa=[{path:"/",name:"Home",component:ce},{path:"/about",name:"About",component:de},{path:"/log-in",name:"Login",component:Ae},{path:"/sign-up",name:"Signup",component:Ze},{path:"/animes",name:"AnimeList",component:$t},{path:"/favourites",name:"Favourites",component:Aa},{path:"/animes/:id",name:"AnimeDetail",component:ma,props:!0}],$a=Object(X["a"])({history:Object(X["b"])("/"),routes:Sa}),Ra=$a,Ua=(a("c740"),Object(C["a"])({state:{user:"",animesData:[],userInput:""},getters:{getUser:function(e){return e.user},getUserInput:function(e){return e.userInput},getAnimesData:function(e){return e.animesData}},mutations:{updateUser:function(e,t){e.user=t},updateUserInput:function(e,t){e.userInput=t},updateAnimesData:function(e,t){e.animesData=t},updateAnimeData:function(e,t){var a=e.animesData.results.findIndex((function(e){return e.id===t.id}));e.animesData.results[a]=t}},actions:{updateUser:function(e,t){e.commit("updateUser",t)},updateUserInput:function(e,t){e.commit("updateUserInput",t)},updateAnimesData:function(e,t){e.commit("updateAnimesData",t)},updateAnimeData:function(e,t){e.commit("updateAnimeData",t)}}}));a("ab8b"),a("7b17"),a("d3b7");U.a.defaults.baseURL="/",U.a.interceptors.request.use((function(e){var t=localStorage.getItem("access_token");return t&&"api-v1/auth/login/"!==e.url&&"api-v1/auth/token/refresh/"!==e.url&&(e.headers["Authorization"]="Bearer "+t),e}),(function(e){return Promise.reject(e)})),U.a.interceptors.response.use((function(e){return e}),function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.config,"api-v1/auth/login/"!==a.url&&t.response){e.next=3;break}return e.abrupt("return",Promise.reject(t));case 3:if(401===t.response.status&&"api-v1/auth/token/refresh/"!==a.url){e.next=5;break}return e.abrupt("return",Promise.reject(t));case 5:return a._retry=!0,e.prev=6,e.next=9,U.a.post("api-v1/auth/token/refresh/",{refresh:localStorage.getItem("refresh_token")});case 9:return n=e.sent,r=n.data.access,localStorage.setItem("access_token",r),t.config.headers["Authorization"]="Bearer ".concat(r),e.abrupt("return",new Promise((function(e,t){U.a.request(a).then((function(t){e(t)})).catch((function(e){t(e)}))})));case 16:return e.prev=16,e.t0=e["catch"](6),e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()),Object(n["d"])(Q).use(Ua).use(Ra).mount("#app")},"5e49":function(e,t,a){},"6d01":function(e,t,a){"use strict";a("4b2a")},"891b":function(e,t,a){},9050:function(e,t,a){"use strict";a("2278")},"907d":function(e,t,a){"use strict";a("1444")},9265:function(e,t,a){"use strict";a("13f6")},"9b64":function(e,t,a){},a018:function(e,t,a){},ac63:function(e,t,a){"use strict";a("a018")}});
//# sourceMappingURL=app.86e754a2.js.map